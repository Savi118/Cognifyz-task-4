<%- include('../partials/head') %>

        <body class="flex flex-col bg-slate-900 min-h-screen">
                <%- include('../partials/navbar') %>
                        <main class="grow flex flex-col items-center justify-center text-white px-6 py-12">

                                <section id="results" class="w-full max-w-5xl text-center space-y-8">
                                        <% if(!user) { %>
                                                <h2 class="text-4xl md:text-5xl font-extrabold">
                                                        Welcome to <span class="text-cyan-400">Quiz</span><span
                                                                class="text-purple-400">X</span>
                                                </h2>
                                                <p class="text-lg md:text-xl text-slate-300">
                                                        Login to view your leaderboard and compete with others üèÜ
                                                </p>
                                                <div class="flex gap-4 justify-center pt-4">
                                                        <a href="/auth/signup"
                                                                class="px-6 py-2 bg-cyan-500 hover:bg-cyan-400 text-slate-900 font-semibold rounded-lg shadow-lg hover:shadow-cyan-500/30 transition-all">Register</a>
                                                        <a href="/auth/login"
                                                                class="px-6 py-2 bg-purple-500 hover:bg-purple-400 text-slate-900 font-semibold rounded-lg shadow-lg hover:shadow-purple-500/30 transition-all">Login</a>
                                                </div>
                                                <% } else {%>
                                                        <h2 class="text-4xl md:text-5xl font-extrabold drop-shadow-sm">
                                                                üèÜ <span class="text-cyan-400">Leaderboard</span>
                                                        </h2>
                                                        <p class="text-slate-400 text-lg">See how you rank among top
                                                                players!</p>
                                                        <div class="overflow-x-auto mt-8">
                                                                <table
                                                                        class="min-w-full border border-slate-700 bg-slate-800/60 backdrop-blur-md rounded-xl shadow-xl">
                                                                        <thead
                                                                                class="bg-slate-800/90 border-b border-slate-700">
                                                                                <tr class="">
                                                                                        <th
                                                                                                class="py-3 px-4 text-left text-cyan-400 font-semibold">
                                                                                                Rank</th>
                                                                                        <th
                                                                                                class="py-3 px-4 text-left text-sky-400 font-semibold">
                                                                                                Name</th>
                                                                                        <th
                                                                                                class="py-3 px-4 text-left text-violet-400 font-semibold">
                                                                                                Level</th>
                                                                                        <th
                                                                                                class="py-3 px-4 text-left text-emerald-400 font-semibold">
                                                                                                Score</th>
                                                                                        <th
                                                                                                class="py-3 px-4 text-left text-slate-400 font-semibold">
                                                                                                Date</th>
                                                                                </tr>

                                                                        </thead>

                                                                        <tbody>
                                                                                <% results.forEach((r, i)=> { %>
                                                                                        <tr
                                                                                                class="<%= r.user === user?.name ? 'bg-slate-800/80 border-l-4 border-cyan-400' : 'hover:bg-slate-800/70 transition' %>">

                                                                                                <td
                                                                                                        class="py-3 px-4 text-slate-200 font-semibold">
                                                                                                        <%= i + 1 %>
                                                                                                </td>
                                                                                                <td
                                                                                                        class="py-3 px-4 text-slate-100 font-medium">
                                                                                                        <%= r.user %>
                                                                                                </td>
                                                                                                <td
                                                                                                        class="py-3 px-4 capitalize text-cyan-400 font-semibold">
                                                                                                        <%= r.level %>
                                                                                                </td>
                                                                                                <td
                                                                                                        class="py-3 px-4 text-violet-400 font-bold">
                                                                                                        <%= r.score %>
                                                                                                </td>
                                                                                                <td
                                                                                                        class="py-3 px-4 text-slate-500 text-sm">
                                                                                                        <%= new Date(r.date).toLocaleDateString()
                                                                                                                %>
                                                                                                </td>
                                                                                        </tr>
                                                                                        <% }) %>
                                                                        </tbody>
                                                                </table>
                                                        </div>
                                                        <div class="flex flex-wrap justify-center gap-4 mt-10">
                                                                <a href="/play"
                                                                        class="px-6 py-3 bg-purple-500 hover:bg-purple-400 text-black font-semibold rounded-lg shadow-lg hover:shadow-purple-500/30 transition-all">üéÆ
                                                                        Play Again</a>

                                                                <a href="/"
                                                                        class="px-6 py-3 bg-cyan-500 hover:bg-cyan-400 text-black font-semibold rounded-lg shadow-lg hover:shadow-cyan-500/30 transition-all">üè†
                                                                        Back to Home</a>
                                                        </div>

                                                        <% }%>
                                </section>

                        </main>
                        <%- include('../partials/footer') %>
                                <script src="../js/script.js"></script>
        </body>

        </html>